<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æˆ‘çš„èµ„æ–™åº“</title>
  <meta name="description" content="ä¸€ä¸ªç”¨ GitHub Pages æ­å»ºçš„å…è´¹èµ„æ–™åº“ï¼Œæ”¯æŒæ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘ã€æœç´¢ä¸ç•™è¨€" />
  <style>
    :root{
      --bg:#0b0c10; --card:#121318; --text:#eaecef; --muted:#a3aab8; --brand:#5aa9e6; --brand-2:#7fc8f8; --border:#22242d;
    }
    .light{ --bg:#ffffff; --card:#f7f8fb; --text:#111827; --muted:#4b5563; --brand:#2563eb; --brand-2:#60a5fa; --border:#e5e7eb; }
    *{ box-sizing:border-box }
    body{ margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; background:var(--bg); color:var(--text); }
    header{ position:sticky; top:0; backdrop-filter:saturate(180%) blur(8px); background:color-mix(in hsl, var(--bg), transparent 40%); border-bottom:1px solid var(--border); z-index:50 }
    .wrap{ max-width:1100px; margin:auto; padding:16px; }
    .row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap }
    .brand{ font-weight:800; letter-spacing:.5px }
    nav a{ color:var(--text); text-decoration:none; opacity:.85; padding:8px 10px; border-radius:10px }
    nav a.active, nav a:hover{ background:var(--card); opacity:1 }
    .search{ flex:1; min-width:220px; display:flex; align-items:center; gap:8px; background:var(--card); border:1px solid var(--border); padding:8px 12px; border-radius:12px }
    .search input{ flex:1; border:none; outline:none; background:transparent; color:var(--text) }
    .btn{ background:var(--brand); color:white; border:none; padding:8px 12px; border-radius:10px; cursor:pointer }
    .btn.secondary{ background:transparent; border:1px solid var(--border); color:var(--text) }

    main{ padding:28px 16px 60px }
    h1{ margin:.2rem 0 1rem; font-size:28px }
    .muted{ color:var(--muted) }

    .grid{ display:grid; grid-template-columns:repeat( auto-fill, minmax(240px,1fr) ); gap:16px }
    .card{ background:var(--card); border:1px solid var(--border); border-radius:16px; overflow:hidden; display:flex; flex-direction:column }
    .card .thumb{ aspect-ratio:16/9; display:flex; align-items:center; justify-content:center; background:#0f1116; font-size:12px; color:#9aa3b2 }
    .card img{ width:100%; height:100%; object-fit:cover }
    .card .body{ padding:12px }
    .card h3{ margin:0 0 6px; font-size:16px }
    .tag{ display:inline-block; font-size:12px; padding:2px 8px; border:1px solid var(--border); border-radius:999px; margin-right:6px; color:var(--muted) }
    .card a{ text-decoration:none; color:var(--brand-2) }

    .section{ display:none }
    .section.active{ display:block }
    .tips{ background:var(--card); border:1px solid var(--border); border-radius:16px; padding:16px; margin:18px 0 }
    .tips code{ background:#0f1116; padding:2px 6px; border-radius:6px }

    footer{ text-align:center; color:var(--muted); padding:32px 0; border-top:1px solid var(--border) }
  </style>
</head>
<body>
  <header>
    <div class="wrap row">
      <div class="brand">ğŸ“š æˆ‘çš„èµ„æ–™åº“</div>
      <nav class="row" id="nav">
        <a href="#all" data-target="all" class="active">å…¨éƒ¨</a>
        <a href="#images" data-target="images">å›¾ç‰‡</a>
        <a href="#videos" data-target="videos">è§†é¢‘</a>
        <a href="#guide" data-target="guide">ä½¿ç”¨è¯´æ˜</a>
        <a href="#guestbook" data-target="guestbook">ç•™è¨€</a>
      </nav>
      <div class="search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/></svg>
        <input id="q" placeholder="æœç´¢æ ‡é¢˜ã€æ ‡ç­¾æˆ–æè¿°â€¦" />
      </div>
      <button id="theme" class="btn secondary" title="åˆ‡æ¢æ˜æš—">åˆ‡æ¢ä¸»é¢˜</button>
    </div>
  </header>

  <main class="wrap">
    <h1>æ¬¢è¿ï¼<span class="muted">è¿™æ˜¯ä¸€ä¸ªç”¨ GitHub Pages æ­å»ºçš„å…è´¹èµ„æ–™ç½‘ç«™ã€‚</span></h1>

    <!-- å…¨éƒ¨èµ„æ–™ -->
    <section id="sec-all" class="section active">
      <div class="grid" id="list-all"></div>
    </section>

    <!-- å›¾ç‰‡ -->
    <section id="sec-images" class="section">
      <div class="grid" id="list-images"></div>
    </section>

    <!-- è§†é¢‘ -->
    <section id="sec-videos" class="section">
      <div class="grid" id="list-videos"></div>
    </section>

    <!-- ä½¿ç”¨è¯´æ˜ -->
    <section id="sec-guide" class="section">
      <div class="tips">
        <h3>å¦‚ä½•æ–°å¢ä¸€æ¡èµ„æ–™ï¼Ÿï¼ˆæœ€ç®€å•ï¼‰</h3>
        <ol>
          <li>åœ¨ä»“åº“ä¸­æ–°å»ºæ–‡ä»¶å¤¹ï¼š<code>docs/</code>ã€<code>images/</code>ã€<code>videos/</code>ï¼ˆå¯é€‰ï¼‰ã€‚</li>
          <li>æŠŠä½ çš„ PDFã€å›¾ç‰‡ã€MP4 ç­‰æ–‡ä»¶ä¸Šä¼ è¿›å»ã€‚</li>
          <li>ç¼–è¾‘æœ¬é¡µæºç ï¼Œæ‰¾åˆ° <code>const items = [ ... ]</code>ï¼Œä»¿ç…§ç¤ºä¾‹æ–°å¢ä¸€æ¡å³å¯ã€‚</li>
        </ol>
        <p class="muted">ï¼ˆè¿›é˜¶ï¼‰ä»¥åä½ ä¹Ÿå¯ä»¥æŠŠæ•°æ®æ‹†æˆ <code>data/items.json</code> å†ç”¨ fetch è½½å…¥ã€‚</p>
      </div>

      <div class="tips">
        <h3>ç«™å†…æœç´¢</h3>
        <p>ä¸Šæ–¹æœç´¢æ¡†æ”¯æŒæŒ‰æ ‡é¢˜ã€æ ‡ç­¾ã€æè¿°å³æ—¶è¿‡æ»¤ï¼Œæ— éœ€åç«¯ã€‚</p>
      </div>

      <div class="tips">
        <h3>ç•™è¨€/è¯„è®ºï¼ˆutterancesï¼‰</h3>
        <ol>
          <li>ç»™ä½ çš„ä»“åº“å®‰è£… GitHub Appï¼š<a href="https://github.com/apps/utterances" target="_blank">utterances</a>ã€‚</li>
          <li>ç¡®ä¿ä»“åº“æ˜¯å…¬å¼€ï¼ˆPublicï¼‰ï¼Œå¹¶åœ¨ä¸‹æ–¹â€œç•™è¨€â€æ¿å—ä¿ç•™è„šæœ¬é…ç½®å³å¯ä½¿ç”¨â€”â€”è¯„è®ºä¼šåŒæ­¥åˆ°ä»“åº“ Issuesã€‚</li>
        </ol>
      </div>

      <div class="tips">
        <h3>è‡ªå®šä¹‰é£æ ¼</h3>
        <p>ç‚¹å‡»å³ä¸Šè§’â€œåˆ‡æ¢ä¸»é¢˜â€å³å¯åœ¨æ˜/æš—ä¹‹é—´åˆ‡æ¢ã€‚ä¹Ÿå¯è°ƒæ•´é¡µé¢é¡¶éƒ¨ <code>:root</code> ä¸­çš„é¢œè‰²å˜é‡ã€‚</p>
      </div>
    </section>

    <!-- ç•™è¨€æ¿ -->
    <section id="sec-guestbook" class="section">
      <script src="https://utteranc.es/client.js"
        repo="yy-1108/yy-1108.github.io"
        issue-term="pathname"
        label="ğŸ’¬ comment"
        theme="github-dark"
        crossorigin="anonymous"
        async>
      </script>
      <noscript>è¯·å¼€å¯ JavaScript ä»¥åŠ è½½è¯„è®ºã€‚</noscript>
    </section>
  </main>

  <footer>
    <div class="wrap">Â© <span id="year"></span> æˆ‘çš„èµ„æ–™åº“ Â· GitHub Pages</div>
  </footer>

  <script>
    // ====== æ•°æ®ï¼šæŠŠä½ çš„èµ„æ–™æŒ‰ä¸‹é¢æ ¼å¼å¾€é‡ŒåŠ  ======
    const items = [
      {
        title: "æ¬¢è¿æ–‡æ¡£ï¼ˆPDF ç¤ºä¾‹ï¼‰",
        type: "doc",
        url: "docs/welcome.pdf",
        desc: "æŠŠä½ çš„ PDF æ”¾åˆ° docs/ é‡Œï¼Œè¿™é‡Œä¼šç›´æ¥ä¸‹è½½æˆ–åœ¨çº¿æ‰“å¼€ï¼ˆæµè§ˆå™¨æ”¯æŒæ—¶ï¼‰",
        tags: ["ç¤ºä¾‹", "PDF", "å…¥é—¨"]
      },
      {
        title: "é£æ™¯ç…§ç‰‡ï¼ˆå›¾ç‰‡ç¤ºä¾‹ï¼‰",
        type: "image",
        url: "images/photo1.jpg",
        thumb: "images/photo1.jpg",
        desc: "æŠŠå›¾ç‰‡æ”¾åˆ° images/ é‡Œï¼Œç¼©ç•¥å›¾ thumb å¯ä¸å†™ï¼ˆä¼šç”¨ url ä»£æ›¿ï¼‰",
        tags: ["å›¾ç‰‡", "ç¤ºä¾‹"]
      },
      {
        title: "æ¼”ç¤ºè§†é¢‘ï¼ˆMP4 ç¤ºä¾‹ï¼‰",
        type: "video",
        url: "videos/demo.mp4",
        thumb: "https://img.youtube.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
        desc: "æŠŠ MP4 æ”¾åˆ° videos/ é‡Œå³å¯æ’­æ”¾ã€‚ä¹Ÿå¯ç”¨ YouTube é“¾æ¥ï¼ˆè§ä¸‹ä¸€æ¡ï¼‰",
        tags: ["è§†é¢‘", "æœ¬åœ°"]
      },
      {
        title: "YouTube ç¤ºä¾‹",
        type: "video",
        url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
        desc: "å¦‚æœæ˜¯ YouTube é“¾æ¥ï¼Œä¼šç”¨ iframe åµŒå…¥æ’­æ”¾ã€‚å›½å†…ç½‘ç»œå¯èƒ½æ— æ³•è®¿é—®ã€‚",
        tags: ["è§†é¢‘", "YouTube"]
      }
    ];

    // ====== å·¥å…·å‡½æ•° ======
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));

    function match(q, item){
      if(!q) return true;
      q = q.toLowerCase();
      const hay = [item.title, item.desc, ...(item.tags||[])].join(" ").toLowerCase();
      return hay.includes(q);
    }

    function isYouTube(url){ return /youtube\.com\/.+v=|youtu\.be\//.test(url); }
    function youTubeId(url){
      const m = url.match(/(?:v=|youtu\.be\/)([\w-]{6,})/);
      return m ? m[1] : "";
    }

    function cardTpl(item){
      const thumb = item.thumb || (item.type === 'image' ? item.url : '');
      const tags = (item.tags||[]).map(t=>`<span class="tag">#${t}</span>`).join("");

      // è§†é¢‘å¡ç‰‡ï¼šæ”¯æŒ MP4 æˆ– YouTube
      if(item.type === 'video'){
        let media = '';
        if(isYouTube(item.url)){
          const id = youTubeId(item.url);
          media = `<div class="thumb"><iframe width="100%" height="100%" style="border:0" src="https://www.youtube.com/embed/${id}" allowfullscreen loading="lazy"></iframe></div>`;
        }else{
          media = `<div class="thumb"><video controls preload="metadata" style="width:100%;height:100%"><source src="${item.url}"></video></div>`;
        }
        return `<article class="card">
          ${media}
          <div class="body">
            <h3>${item.title}</h3>
            <p class="muted">${item.desc||''}</p>
            <div>${tags}</div>
          </div>
        </article>`;
      }

      // å›¾ç‰‡å¡ç‰‡
      if(item.type === 'image'){
        return `<article class="card">
          <div class="thumb">${thumb ? `<img src="${thumb}" alt="${item.title}" loading="lazy"/>` : 'å›¾ç‰‡'}</div>
          <div class="body">
            <h3>${item.title}</h3>
            <p class="muted">${item.desc||''}</p>
            <div>${tags}</div>
            <p><a href="${item.url}" target="_blank">æŸ¥çœ‹åŸå›¾</a></p>
          </div>
        </article>`;
      }

      // æ–‡æ¡£/å…¶ä»–
      return `<article class="card">
        <div class="thumb">æ–‡æ¡£</div>
        <div class="body">
          <h3>${item.title}</h3>
          <p class="muted">${item.desc||''}</p>
          <div>${tags}</div>
          <p><a href="${item.url}" target="_blank">æ‰“å¼€ / ä¸‹è½½</a></p>
        </div>
      </article>`;
    }

    function render(){
      const q = $('#q').value.trim();
      const filtered = items.filter(it => match(q, it));
      const htmlAll = filtered.map(cardTpl).join('');
      const htmlImg = filtered.filter(i=>i.type==='image').map(cardTpl).join('');
      const htmlVid = filtered.filter(i=>i.type==='video').map(cardTpl).join('');
      $('#list-all').innerHTML = htmlAll || '<p class="muted">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„èµ„æ–™ï¼Œæ¢ä¸ªå…³é”®è¯è¯•è¯•ï½</p>';
      $('#list-images').innerHTML = htmlImg || '<p class="muted">æš‚æ— å›¾ç‰‡ã€‚</p>';
      $('#list-videos').innerHTML = htmlVid || '<p class="muted">æš‚æ— è§†é¢‘ã€‚</p>';
    }

    // ====== äº‹ä»¶ & åˆå§‹åŒ– ======
    $('#q').addEventListener('input', render);

    // é¡¶éƒ¨å¯¼èˆªåˆ‡æ¢
    $$('#nav a').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault();
        $$('#nav a').forEach(x=>x.classList.remove('active'));
        a.classList.add('active');
        const t = a.dataset.target;
        $$('.section').forEach(s=>s.classList.remove('active'));
        $('#sec-'+t).classList.add('active');
        history.replaceState(null, '', '#'+t);
      });
    });

    // æ˜æš—ä¸»é¢˜åˆ‡æ¢
    const themeBtn = $('#theme');
    const saved = localStorage.getItem('theme');
    if(saved === 'light') document.documentElement.classList.add('light');
    themeBtn.onclick = () => {
      document.documentElement.classList.toggle('light');
      localStorage.setItem('theme', document.documentElement.classList.contains('light') ? 'light' : 'dark');
    };

    // å¹´ä»½
    $('#year').textContent = new Date().getFullYear();

    // åˆæ¬¡æ¸²æŸ“
    render();
  </script>
</body>
</html>
